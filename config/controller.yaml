controller_manager:
  ros__parameters:
    update_rate: 50  # Hz

    omni_wheel_controller:
      type: omni_wheel_controller/OmniWheelController

omni_wheel_controller:
  ros__parameters:
    # List of wheel joint names (must match your URDF)
    wheel_joints:
      - wheel_1_joint
      - wheel_2_joint
      - wheel_3_joint
    
    # Physical parameters
    wheel_radius: 0.0635         # meters (radius 'a' in your formula)
    wheel_base_radius: 0.1155    # meters (distance 'l' from center to wheel)

    # Wheel configuration angles (in degrees)
    # theta_B: angle from robot frame X-axis to wheel frame X-axis
    theta_B: [150.0, 270.0, 30.0]

    # alpha: angle from wheel rotation axis to robot frame X-axis
    alpha: [60.0, 180.0, 300.0]

    # Frame IDs
    base_frame_id: "base_footprint"
    odom_frame_id: "odom"

    # Publishing options
    publish_odom: true
    publish_tf: true

    # Topic names (with defaults)
    cmd_vel_topic: "~/cmd_vel"  # Default: omni_wheel_controller/cmd_vel
    odom_topic: "~/odom"        # Default: omni_wheel_controller/odom
    
    # Command velocity timeout (seconds)
    # Robot will stop if no cmd_vel received within this time
    cmd_vel_timeout: 0.5

    linear_acceleration_limit: 1.0      # m/s² - adjust based on your robot
    angular_acceleration_limit: 2.0     # rad/s² - adjust based on your robot  
    velocity_smoothing_alpha: 0.3       # 0-1, lower = smoother (try 0.2-0.4)